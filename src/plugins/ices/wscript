from waftools.plugin import plugin

def plugin_configure(conf):
    return (conf.check_pkg('shout', destvar='shout') and
            conf.check_pkg('ogg', destvar='ogg') and
            conf.check_pkg('vorbisenc', destvar='vorbisenc'))

configure, build = plugin('ices', configure=plugin_configure,
                          source=['ices.c', 'encode.c'],
                          extra_libs=['shout', 'vorbisenc', 'ogg', 'socket'])
